(function() {
  /*

    Music is by The XX
    @see http://thexx.info

    This is best viewed in Chrome since there is a bug in Safari
    when using getByteFrequencyData with MediaElementAudioSource

    @see https://goo.gl/6WLx1

  */
  var ALPHA, AudioAnalyser, COLORS, MP3_PATH, NUM_BANDS, NUM_PARTICLES, Particle, SCALE, SIZE, SMOOTHING, SPEED, SPIN;

  // Config
  NUM_PARTICLES = 150;

  NUM_BANDS = 128;

  SMOOTHING = 0.5;

  MP3_PATH = 'https://api.soundcloud.com/tracks/42328219/stream?client_id=b1495e39071bd7081a74093816f77ddb';

  SCALE = {
    MIN: 5.0,
    MAX: 80.0
  };

  SPEED = {
    MIN: 0.2,
    MAX: 1.0
  };

  ALPHA = {
    MIN: 0.8,
    MAX: 0.9
  };

  SPIN = {
    MIN: 0.001,
    MAX: 0.005
  };

  SIZE = {
    MIN: 0.5,
    MAX: 1.25
  };

  COLORS = ['#69D2E7', '#1B676B', '#BEF202', '#EBE54D', '#00CDAC', '#1693A5', '#F9D423', '#FF4E50', '#E7204E', '#0CCABA', '#FF006F'];

  AudioAnalyser = (function() {
    // Audio Analyser
    class AudioAnalyser {
      constructor(audio = new Audio(), numBands = 256, smoothing = 0.3) {
        var src;
        this.audio = audio;
        this.numBands = numBands;
        this.smoothing = smoothing;
        
        // construct audio object
        if (typeof this.audio === 'string') {
          src = this.audio;
          this.audio = new Audio();
          this.audio.crossOrigin = "anonymous";
          this.audio.controls = true;
          this.audio.src = src;
        }
        
        // setup audio context and nodes
        this.context = new AudioAnalyser.AudioContext();
        
        // createScriptProcessor so we can hook onto updates
        this.jsNode = this.context.createScriptProcessor(2048, 1, 1);
        
        // smoothed analyser with n bins for frequency-domain analysis
        this.analyser = this.context.createAnalyser();
        this.analyser.smoothingTimeConstant = this.smoothing;
        this.analyser.fftSize = this.numBands * 2;
        
        // persistant bands array
        this.bands = new Uint8Array(this.analyser.frequencyBinCount);
        // circumvent http://crbug.com/112368
        this.audio.addEventListener('canplay', () => {
          
          // media source
          this.source = this.context.createMediaElementSource(this.audio);
          // wire up nodes
          this.source.connect(this.analyser);
          this.analyser.connect(this.jsNode);
          this.jsNode.connect(this.context.destination);
          this.source.connect(this.context.destination);
          // update each time the JavaScriptNode is called
          return this.jsNode.onaudioprocess = () => {
            // retreive the data from the first channel
            this.analyser.getByteFrequencyData(this.bands);
            if (!this.audio.paused) {
              return typeof this.onUpdate === "function" ? this.onUpdate(this.bands) : void 0;
            }
          };
        });
      }

      start() {
        return this.audio.play();
      }

      stop() {
        return this.audio.pause();
      }

    };

    AudioAnalyser.AudioContext = self.AudioContext || self.webkitAudioContext;

    AudioAnalyser.enabled = AudioAnalyser.AudioContext != null;

    return AudioAnalyser;

  }).call(this);

  
    // Particle
  Particle = class Particle {
    constructor(x1 = 0, y1 = 0) {
      this.x = x1;
      this.y = y1;
      this.reset();
    }

    reset() {
      this.level = 1 + floor(random(4));
      this.scale = random(SCALE.MIN, SCALE.MAX);
      this.alpha = random(ALPHA.MIN, ALPHA.MAX);
      this.speed = random(SPEED.MIN, SPEED.MAX);
      this.color = random(COLORS);
      this.size = random(SIZE.MIN, SIZE.MAX);
      this.spin = random(SPIN.MAX, SPIN.MAX);
      this.band = floor(random(NUM_BANDS));
      if (random() < 0.5) {
        this.spin = -this.spin;
      }
      this.smoothedScale = 0.0;
      this.smoothedAlpha = 0.0;
      this.decayScale = 0.0;
      this.decayAlpha = 0.0;
      this.rotation = random(TWO_PI);
      return this.energy = 0.0;
    }

    move() {
      this.rotation += this.spin;
      return this.y -= this.speed * this.level;
    }

    draw(ctx) {
      var alpha, power, scale;
      power = exp(this.energy);
      scale = this.scale * power;
      alpha = this.alpha * this.energy * 1.5;
      this.decayScale = max(this.decayScale, scale);
      this.decayAlpha = max(this.decayAlpha, alpha);
      this.smoothedScale += (this.decayScale - this.smoothedScale) * 0.3;
      this.smoothedAlpha += (this.decayAlpha - this.smoothedAlpha) * 0.3;
      this.decayScale *= 0.985;
      this.decayAlpha *= 0.975;
      ctx.save();
      ctx.beginPath();
      ctx.translate(this.x + cos(this.rotation * this.speed) * 250, this.y);
      ctx.rotate(this.rotation);
      ctx.scale(this.smoothedScale * this.level, this.smoothedScale * this.level);
      ctx.moveTo(this.size * 0.5, 0);
      ctx.lineTo(this.size * -0.5, 0);
      ctx.lineWidth = 1;
      ctx.lineCap = 'round';
      ctx.globalAlpha = this.smoothedAlpha / this.level;
      ctx.strokeStyle = this.color;
      ctx.stroke();
      return ctx.restore();
    }

  };

  
  // Sketch
  Sketch.create({
    particles: [],
    setup: function() {
      var analyser, error, i, intro, j, particle, ref, warning, x, y;

      // generate some particles
      for (i = j = 0, ref = NUM_PARTICLES - 1; j <= ref; i = j += 1) {
        x = random(this.width);
        y = random(this.height * 2);
        particle = new Particle(x, y);
        particle.energy = random(particle.band / 256);
        this.particles.push(particle);
      }
      if (AudioAnalyser.enabled) {
        try {
          // setup the audio analyser
          analyser = new AudioAnalyser(MP3_PATH, NUM_BANDS, SMOOTHING);
          // update particles based on fft transformed audio frequencies
          analyser.onUpdate = (bands) => {
            var k, len, ref1, results;
            ref1 = this.particles;
            results = [];
            for (k = 0, len = ref1.length; k < len; k++) {
              particle = ref1[k];
              results.push(particle.energy = bands[particle.band] / 256);
            }
            return results;
          };
          
          // start as soon as the audio is buffered
          analyser.start();
          document.body.appendChild(analyser.audio);
          intro = document.getElementById('intro');
          intro.style.display = 'none';
          
          // bug in Safari 6 when using getByteFrequencyData with MediaElementAudioSource
          // @see https://goo.gl/6WLx1
          if (/Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent)) {
            warning = document.getElementById('warning2');
            return warning.style.display = 'block';
          }
        } catch (error1) {
          error = error1;
        }
      } else {
        
        // Web Audio API not detected
        warning = document.getElementById('warning1');
        return warning.style.display = 'block';
      }
    },
    draw: function() {
      var j, len, particle, ref, results;
      this.globalCompositeOperation = 'lighter';
      ref = this.particles;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        particle = ref[j];
        
        // recycle particles
        if (particle.y < -particle.size * particle.level * particle.scale * 2) {
          particle.reset();
          particle.x = random(this.width);
          particle.y = this.height + particle.size * particle.scale * particle.level;
        }
        particle.move();
        results.push(particle.draw(this));
      }
      return results;
    }
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBVUc7RUFBQTs7Ozs7Ozs7Ozs7QUFBQSxNQUFBLEtBQUEsRUFBQSxhQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsYUFBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQTs7O0VBSUgsYUFBQSxHQUFnQjs7RUFDaEIsU0FBQSxHQUFZOztFQUNaLFNBQUEsR0FBWTs7RUFDWixRQUFBLEdBQVc7O0VBRVgsS0FBQSxHQUFRO0lBQUEsR0FBQSxFQUFLLEdBQUw7SUFBVyxHQUFBLEVBQUs7RUFBaEI7O0VBQ1IsS0FBQSxHQUFRO0lBQUEsR0FBQSxFQUFLLEdBQUw7SUFBWSxHQUFBLEVBQUs7RUFBakI7O0VBQ1IsS0FBQSxHQUFRO0lBQUEsR0FBQSxFQUFLLEdBQUw7SUFBWSxHQUFBLEVBQUs7RUFBakI7O0VBQ1IsSUFBQSxHQUFRO0lBQUEsR0FBQSxFQUFLLEtBQUw7SUFBWSxHQUFBLEVBQUs7RUFBakI7O0VBQ1IsSUFBQSxHQUFRO0lBQUEsR0FBQSxFQUFLLEdBQUw7SUFBWSxHQUFBLEVBQUs7RUFBakI7O0VBRVIsTUFBQSxHQUFTLENBQ1AsU0FETyxFQUVQLFNBRk8sRUFHUCxTQUhPLEVBSVAsU0FKTyxFQUtQLFNBTE8sRUFNUCxTQU5PLEVBT1AsU0FQTyxFQVFQLFNBUk8sRUFTUCxTQVRPLEVBVVAsU0FWTyxFQVdQLFNBWE87O0VBZ0JIOztJQUFOLE1BQUEsY0FBQTtNQUtFLFdBQWEsU0FBVyxJQUFJLEtBQUosQ0FBQSxDQUFYLGFBQW9DLEdBQXBDLGNBQXNELEdBQXRELENBQUE7QUFFZixZQUFBO1FBRmlCLElBQUMsQ0FBQTtRQUFxQixJQUFDLENBQUE7UUFBZ0IsSUFBQyxDQUFBLHNCQUV6RDs7O1FBQ0ksSUFBRyxPQUFPLElBQUMsQ0FBQSxLQUFSLEtBQWlC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QUZGO0FBM0pHIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG5cbiAgTXVzaWMgaXMgYnkgVGhlIFhYXG4gIEBzZWUgaHR0cDovL3RoZXh4LmluZm9cblxuICBUaGlzIGlzIGJlc3Qgdmlld2VkIGluIENocm9tZSBzaW5jZSB0aGVyZSBpcyBhIGJ1ZyBpbiBTYWZhcmlcbiAgd2hlbiB1c2luZyBnZXRCeXRlRnJlcXVlbmN5RGF0YSB3aXRoIE1lZGlhRWxlbWVudEF1ZGlvU291cmNlXG5cbiAgQHNlZSBodHRwczovL2dvby5nbC82V0x4MVxuXG4jIyNcblxuIyBDb25maWdcblxuTlVNX1BBUlRJQ0xFUyA9IDE1MFxuTlVNX0JBTkRTID0gMTI4XG5TTU9PVEhJTkcgPSAwLjVcbk1QM19QQVRIID0gJ2h0dHBzOi8vYXBpLnNvdW5kY2xvdWQuY29tL3RyYWNrcy80MjMyODIxOS9zdHJlYW0/Y2xpZW50X2lkPWIxNDk1ZTM5MDcxYmQ3MDgxYTc0MDkzODE2Zjc3ZGRiJ1xuXG5TQ0FMRSA9IE1JTjogNS4wLCAgTUFYOiA4MC4wXG5TUEVFRCA9IE1JTjogMC4yLCAgIE1BWDogMS4wXG5BTFBIQSA9IE1JTjogMC44LCAgIE1BWDogMC45XG5TUElOICA9IE1JTjogMC4wMDEsIE1BWDogMC4wMDVcblNJWkUgID0gTUlOOiAwLjUsICAgTUFYOiAxLjI1XG5cbkNPTE9SUyA9IFtcbiAgJyM2OUQyRTcnXG4gICcjMUI2NzZCJ1xuICAnI0JFRjIwMidcbiAgJyNFQkU1NEQnXG4gICcjMDBDREFDJ1xuICAnIzE2OTNBNSdcbiAgJyNGOUQ0MjMnXG4gICcjRkY0RTUwJ1xuICAnI0U3MjA0RSdcbiAgJyMwQ0NBQkEnXG4gICcjRkYwMDZGJ1xuXVxuXG4jIEF1ZGlvIEFuYWx5c2VyXG5cbmNsYXNzIEF1ZGlvQW5hbHlzZXJcbiAgXG4gIEBBdWRpb0NvbnRleHQ6IHNlbGYuQXVkaW9Db250ZXh0IG9yIHNlbGYud2Via2l0QXVkaW9Db250ZXh0XG4gIEBlbmFibGVkOiBAQXVkaW9Db250ZXh0P1xuICBcbiAgY29uc3RydWN0b3I6ICggQGF1ZGlvID0gbmV3IEF1ZGlvKCksIEBudW1CYW5kcyA9IDI1NiwgQHNtb290aGluZyA9IDAuMyApIC0+XG4gIFxuICAgICMgY29uc3RydWN0IGF1ZGlvIG9iamVjdFxuICAgIGlmIHR5cGVvZiBAYXVkaW8gaXMgJ3N0cmluZydcbiAgICAgIHNyYyA9IEBhdWRpb1xuICAgICAgQGF1ZGlvID0gbmV3IEF1ZGlvKClcbiAgICAgIEBhdWRpby5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCJcbiAgICAgIEBhdWRpby5jb250cm9scyA9IHllc1xuICAgICAgQGF1ZGlvLnNyYyA9IHNyY1xuICBcbiAgICAjIHNldHVwIGF1ZGlvIGNvbnRleHQgYW5kIG5vZGVzXG4gICAgQGNvbnRleHQgPSBuZXcgQXVkaW9BbmFseXNlci5BdWRpb0NvbnRleHQoKVxuICAgIFxuICAgICMgY3JlYXRlU2NyaXB0UHJvY2Vzc29yIHNvIHdlIGNhbiBob29rIG9udG8gdXBkYXRlc1xuICAgIEBqc05vZGUgPSBAY29udGV4dC5jcmVhdGVTY3JpcHRQcm9jZXNzb3IgMjA0OCwgMSwgMVxuICAgIFxuICAgICMgc21vb3RoZWQgYW5hbHlzZXIgd2l0aCBuIGJpbnMgZm9yIGZyZXF1ZW5jeS1kb21haW4gYW5hbHlzaXNcbiAgICBAYW5hbHlzZXIgPSBAY29udGV4dC5jcmVhdGVBbmFseXNlcigpXG4gICAgQGFuYWx5c2VyLnNtb290aGluZ1RpbWVDb25zdGFudCA9IEBzbW9vdGhpbmdcbiAgICBAYW5hbHlzZXIuZmZ0U2l6ZSA9IEBudW1CYW5kcyAqIDJcbiAgICBcbiAgICAjIHBlcnNpc3RhbnQgYmFuZHMgYXJyYXlcbiAgICBAYmFuZHMgPSBuZXcgVWludDhBcnJheSBAYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnRcblxuICAgICMgY2lyY3VtdmVudCBodHRwOi8vY3JidWcuY29tLzExMjM2OFxuICAgIEBhdWRpby5hZGRFdmVudExpc3RlbmVyICdjYW5wbGF5JywgPT5cbiAgICBcbiAgICAgICMgbWVkaWEgc291cmNlXG4gICAgICBAc291cmNlID0gQGNvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlIEBhdWRpb1xuXG4gICAgICAjIHdpcmUgdXAgbm9kZXNcblxuICAgICAgQHNvdXJjZS5jb25uZWN0IEBhbmFseXNlclxuICAgICAgQGFuYWx5c2VyLmNvbm5lY3QgQGpzTm9kZVxuXG4gICAgICBAanNOb2RlLmNvbm5lY3QgQGNvbnRleHQuZGVzdGluYXRpb25cbiAgICAgIEBzb3VyY2UuY29ubmVjdCBAY29udGV4dC5kZXN0aW5hdGlvblxuXG4gICAgICAjIHVwZGF0ZSBlYWNoIHRpbWUgdGhlIEphdmFTY3JpcHROb2RlIGlzIGNhbGxlZFxuICAgICAgQGpzTm9kZS5vbmF1ZGlvcHJvY2VzcyA9ID0+XG5cbiAgICAgICAgIyByZXRyZWl2ZSB0aGUgZGF0YSBmcm9tIHRoZSBmaXJzdCBjaGFubmVsXG4gICAgICAgIEBhbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YSBAYmFuZHNcbiAgICAgICAgXG4gICAgICAgICMgZmlyZSBjYWxsYmFja1xuICAgICAgICBAb25VcGRhdGU/IEBiYW5kcyBpZiBub3QgQGF1ZGlvLnBhdXNlZFxuICAgICAgICBcbiAgc3RhcnQ6IC0+XG4gIFxuICAgIEBhdWRpby5wbGF5KClcbiAgICBcbiAgc3RvcDogLT5cbiAgXG4gICAgQGF1ZGlvLnBhdXNlKClcbiAgICBcbiMgUGFydGljbGVcblxuY2xhc3MgUGFydGljbGVcbiAgXG4gIGNvbnN0cnVjdG9yOiAoIEB4ID0gMCwgQHkgPSAwICkgLT5cblxuICAgIEByZXNldCgpXG4gICAgXG4gIHJlc2V0OiAtPlxuICBcbiAgICBAbGV2ZWwgPSAxICsgZmxvb3IgcmFuZG9tIDRcbiAgICBAc2NhbGUgPSByYW5kb20gU0NBTEUuTUlOLCBTQ0FMRS5NQVhcbiAgICBAYWxwaGEgPSByYW5kb20gQUxQSEEuTUlOLCBBTFBIQS5NQVhcbiAgICBAc3BlZWQgPSByYW5kb20gU1BFRUQuTUlOLCBTUEVFRC5NQVhcbiAgICBAY29sb3IgPSByYW5kb20gQ09MT1JTXG4gICAgQHNpemUgPSByYW5kb20gU0laRS5NSU4sIFNJWkUuTUFYXG4gICAgQHNwaW4gPSByYW5kb20gU1BJTi5NQVgsIFNQSU4uTUFYXG4gICAgQGJhbmQgPSBmbG9vciByYW5kb20gTlVNX0JBTkRTXG4gICAgXG4gICAgaWYgcmFuZG9tKCkgPCAwLjUgdGhlbiBAc3BpbiA9IC1Ac3BpblxuICAgIFxuICAgIEBzbW9vdGhlZFNjYWxlID0gMC4wXG4gICAgQHNtb290aGVkQWxwaGEgPSAwLjBcbiAgICBAZGVjYXlTY2FsZSA9IDAuMFxuICAgIEBkZWNheUFscGhhID0gMC4wXG4gICAgQHJvdGF0aW9uID0gcmFuZG9tIFRXT19QSVxuICAgIEBlbmVyZ3kgPSAwLjBcbiAgICBcbiAgbW92ZTogLT5cbiAgXG4gICAgQHJvdGF0aW9uICs9IEBzcGluXG4gICAgQHkgLT0gQHNwZWVkICogQGxldmVsXG4gICAgXG4gIGRyYXc6ICggY3R4ICkgLT5cbiAgICBcbiAgICBwb3dlciA9IGV4cCBAZW5lcmd5XG4gICAgc2NhbGUgPSBAc2NhbGUgKiBwb3dlclxuICAgIGFscGhhID0gQGFscGhhICogQGVuZXJneSAqIDEuNVxuICAgIFxuICAgIEBkZWNheVNjYWxlID0gbWF4IEBkZWNheVNjYWxlLCBzY2FsZVxuICAgIEBkZWNheUFscGhhID0gbWF4IEBkZWNheUFscGhhLCBhbHBoYVxuICAgIFxuICAgIEBzbW9vdGhlZFNjYWxlICs9ICggQGRlY2F5U2NhbGUgLSBAc21vb3RoZWRTY2FsZSApICogMC4zXG4gICAgQHNtb290aGVkQWxwaGEgKz0gKCBAZGVjYXlBbHBoYSAtIEBzbW9vdGhlZEFscGhhICkgKiAwLjNcbiAgICBcbiAgICBAZGVjYXlTY2FsZSAqPSAwLjk4NVxuICAgIEBkZWNheUFscGhhICo9IDAuOTc1XG4gIFxuICAgIGN0eC5zYXZlKClcbiAgICBjdHguYmVnaW5QYXRoKClcbiAgICBjdHgudHJhbnNsYXRlIEB4ICsgY29zKCBAcm90YXRpb24gKiBAc3BlZWQgKSAqIDI1MCwgQHlcbiAgICBjdHgucm90YXRlIEByb3RhdGlvblxuICAgIGN0eC5zY2FsZSBAc21vb3RoZWRTY2FsZSAqIEBsZXZlbCwgQHNtb290aGVkU2NhbGUgKiBAbGV2ZWxcbiAgICBjdHgubW92ZVRvIEBzaXplICogMC41LCAwXG4gICAgY3R4LmxpbmVUbyBAc2l6ZSAqIC0wLjUsIDBcbiAgICBjdHgubGluZVdpZHRoID0gMVxuICAgIGN0eC5saW5lQ2FwID0gJ3JvdW5kJ1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IEBzbW9vdGhlZEFscGhhIC8gQGxldmVsXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gQGNvbG9yXG4gICAgY3R4LnN0cm9rZSgpXG4gICAgY3R4LnJlc3RvcmUoKVxuICAgIFxuIyBTa2V0Y2hcbiAgICBcblNrZXRjaC5jcmVhdGVcblxuICBwYXJ0aWNsZXM6IFtdXG4gIFxuICBzZXR1cDogLT5cbiAgICBcbiAgICAjIGdlbmVyYXRlIHNvbWUgcGFydGljbGVzXG4gICAgZm9yIGkgaW4gWzAuLk5VTV9QQVJUSUNMRVMtMV0gYnkgMVxuICAgICAgXG4gICAgICB4ID0gcmFuZG9tIEB3aWR0aFxuICAgICAgeSA9IHJhbmRvbSBAaGVpZ2h0ICogMlxuICAgICAgXG4gICAgICBwYXJ0aWNsZSA9IG5ldyBQYXJ0aWNsZSB4LCB5XG4gICAgICBwYXJ0aWNsZS5lbmVyZ3kgPSByYW5kb20gcGFydGljbGUuYmFuZCAvIDI1NlxuICAgICAgXG4gICAgICBAcGFydGljbGVzLnB1c2ggcGFydGljbGVcbiAgICAgIFxuICAgIGlmIEF1ZGlvQW5hbHlzZXIuZW5hYmxlZFxuICAgICAgXG4gICAgICB0cnlcblxuICAgICAgICAjIHNldHVwIHRoZSBhdWRpbyBhbmFseXNlclxuICAgICAgICBhbmFseXNlciA9IG5ldyBBdWRpb0FuYWx5c2VyIE1QM19QQVRILCBOVU1fQkFORFMsIFNNT09USElOR1xuXG4gICAgICAgICMgdXBkYXRlIHBhcnRpY2xlcyBiYXNlZCBvbiBmZnQgdHJhbnNmb3JtZWQgYXVkaW8gZnJlcXVlbmNpZXNcbiAgICAgICAgYW5hbHlzZXIub25VcGRhdGUgPSAoIGJhbmRzICkgPT4gcGFydGljbGUuZW5lcmd5ID0gYmFuZHNbIHBhcnRpY2xlLmJhbmQgXSAvIDI1NiBmb3IgcGFydGljbGUgaW4gQHBhcnRpY2xlc1xuICAgICAgICBcbiAgICAgICAgIyBzdGFydCBhcyBzb29uIGFzIHRoZSBhdWRpbyBpcyBidWZmZXJlZFxuICAgICAgICBhbmFseXNlci5zdGFydCgpO1xuICAgICAgXG4gICAgICAgICMgc2hvdyBhdWRpbyBjb250cm9sc1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkIGFuYWx5c2VyLmF1ZGlvXG4gICAgICAgIFxuICAgICAgICBpbnRybyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICdpbnRybydcbiAgICAgICAgaW50cm8uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgICAgICBcbiAgICAgICAgIyBidWcgaW4gU2FmYXJpIDYgd2hlbiB1c2luZyBnZXRCeXRlRnJlcXVlbmN5RGF0YSB3aXRoIE1lZGlhRWxlbWVudEF1ZGlvU291cmNlXG4gICAgICAgICMgQHNlZSBodHRwczovL2dvby5nbC82V0x4MVxuICAgICAgICBpZiAvU2FmYXJpLy50ZXN0KCBuYXZpZ2F0b3IudXNlckFnZW50ICkgYW5kIG5vdCAvQ2hyb21lLy50ZXN0KCBuYXZpZ2F0b3IudXNlckFnZW50IClcbiAgICAgICAgXG4gICAgICAgICAgd2FybmluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkICd3YXJuaW5nMidcbiAgICAgICAgICB3YXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG5cbiAgICAgIGNhdGNoIGVycm9yXG4gICAgICBcbiAgICBlbHNlXG4gICAgICBcbiAgICAgICMgV2ViIEF1ZGlvIEFQSSBub3QgZGV0ZWN0ZWRcbiAgICAgIHdhcm5pbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCAnd2FybmluZzEnXG4gICAgICB3YXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgXG4gIGRyYXc6IC0+XG4gIFxuICAgIEBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnbGlnaHRlcidcbiAgXG4gICAgZm9yIHBhcnRpY2xlIGluIEBwYXJ0aWNsZXNcbiAgICAgIFxuICAgICAgIyByZWN5Y2xlIHBhcnRpY2xlc1xuICAgICAgaWYgcGFydGljbGUueSA8IC1wYXJ0aWNsZS5zaXplICogcGFydGljbGUubGV2ZWwgKiBwYXJ0aWNsZS5zY2FsZSAqIDJcbiAgICAgICAgXG4gICAgICAgIHBhcnRpY2xlLnJlc2V0KCk7XG4gICAgICAgIHBhcnRpY2xlLnggPSByYW5kb20gQHdpZHRoXG4gICAgICAgIHBhcnRpY2xlLnkgPSBAaGVpZ2h0ICsgcGFydGljbGUuc2l6ZSAqIHBhcnRpY2xlLnNjYWxlICogcGFydGljbGUubGV2ZWxcbiAgICAgIFxuICAgICAgcGFydGljbGUubW92ZSgpXG4gICAgICBwYXJ0aWNsZS5kcmF3IEAiXX0=
//# sourceURL=coffeescript